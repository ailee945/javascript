# 复习及面试二刷

[toc]

## 1. 浏览器渲染过程

![浏览器渲染过程](img/浏览器渲染过程.png)

## 2. V8引擎原理

![v8](img/v8.png)

js代码=>词法分析/语法分析=>抽象语法树=>转换=>字节码=>机器指令

抽象语法树在线解析网站<https://astexplorer.net/>

## 3. ES5 执行过程及作用域

作用域考察点：

- 作用域提升底层原理 GO ECS VO GEC
- 函数执行上下文 FEC AO
  - 作用域链 scope chain: AO + parentScope
  - 函数的作用域在编译的时候就确定了，与调用位置无关
  - 解析过程中return无效，其后面的代码正常解析
  - var a = b = 2 => var a = 2; window.b = 2

![变量环境和记录](img/环境变量和记录.png)

## 4. 内存管理

- 内存管理生命周期
  - 第一步：申请内存
  - 第二步：使用分配的内存
  - 第三部：不需要使用时对其进行释放
- js自动内存管理（第二步）
- 定义变量时分配内存
  - 基本数据类型-栈空间
  - 复杂数据类型-堆空间
- GC垃圾回收（Garbage Collection）
  - 引用计数。弊端：循环引用
  - 标记清除。从根对象可达

## 5. 高阶函数

函数在js中是一等公民，可以作为函数的参数和返回值

[数组高阶方法](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array)

- filter
  - 返回一个新的数组，回调函数的返回值true会被加入到新数组，false则不会
- map
  - 映射
- forEach
  - 迭代
- reduce
  - 统计、求和
- find
- findIndex
  
## 6. [闭包](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Closures)

考察点：

- 什么是闭包
- 闭包的内存泄漏
- 闭包的作用

## 7. this 的指向问题 [mdn](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/this) [coderwhy](https://mp.weixin.qq.com/s/hYm0JgBI25grNG_2sCRlTA)

this的指向和函数的定义位置无关，和函数调用方式有关

- 全局
  - 浏览器：window
  - node：{ } 空对象
- 默认绑定
  - 独立函数调用，无调用主体，指向window
  - ~~闭包中的函数调动都是指向this~~ **错误**
- 隐式绑定
  - 对象内部必须有对函数的引用，否则就会报错
  - object会被js引擎绑定到函数的this中
- 显式绑定
  - call
  - apply
  - bind
- new绑定
  - this指向构造器创建的对象
- 特殊情况下this的指向问题
  - setTimeout => window
  - 元素的点击事件 => 元素本身
  - 数组的高阶函数 => window

优先级

- 默认绑定优先级最低
- 显示绑定优先级高于隐式绑定
- new优先级高于隐式绑定
- new优先级大于显式绑定

规则之外

- 忽略显式绑定： apply bind call 中 this 绑定为 null 和 undefined 就会绑定，进而绑定window
- 见 间接函数引用.js
- 箭头函数不绑定this arguments, 并且不能作为构造函数使用

05-01:35
